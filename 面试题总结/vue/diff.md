vue 基于虚拟 DOM 做更新。diff 核心就是比较两个虚拟节点的差异。
vue 的 diff 算法是平级比较，不考虑跨级比较的情况。内部采用深度递归的方式+双指针的方式进行比较

1. 先比较是否是相同节点 tag 原：p 标签 新：div 标签
2. 相同节点比较属性，并复用老节点（将老的虚拟 dom 复用给新的虚拟节点 DOM）
3. 比较儿子节点，考虑老节点和新节点儿子的情况
4. 优化比较：头头、尾尾、头尾、尾头
5. 比对查找 key 进行复用
   创建映射表，用新的去旧的里面进行查找，看是否可以复用，不能复用就删除，能复用就插入
   vue3 中采用最长递增子序列来实现 diff 优化

6. diff 算法是虚拟 DOM 技术的必然产物：通过新旧虚拟 DOM 作对比（即 diff），将变化的地方更新
   在真 实 DOM 上；另外，也需要 diff 高效的执行对比过程，从而降低时间复杂度为 O(n)。
   开课吧 web 全栈架构师
7. vue 2.x 中为了降低 Watcher 粒度，每个组件只有一个 Watcher 与之对应，只有引入 diff 才能精确
   找到 发生变化的地方。
8. vue 中 diff 执行的时刻是组件实例执行其更新函数时，它会比对上一次渲染结果 oldVnode 和新的
   渲染 结果 newVnode，此过程称为 patch。
9. diff 过程整体遵循深度优先、同层比较的策略；两个节点之间比较会根据它们是否拥有子节点或者
   文 本节点做不同操作；比较两组子节点是算法的重点，首先假设头尾节点可能相同做 4 次比对尝试，
   如果 没有找到相同节点才按照通用方式遍历查找，查找结束再按情况处理剩下的节点；借助 key 通
   常可以非 常精确找到相同节点，因此整个 patch 过程非常高效。
